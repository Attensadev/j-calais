#labels Featured,Documentation
# j-calais -- User Guide

== Usage ==

===Setup the client===

{{{
    CalaisClient client = new CalaisRestClient("OpenCalais API key");
}}}

===Analyze texts===

You can analyze a text fragment from a `String`:

{{{
    CalaisResponse response = client.analyze("Text to analyze");
}}}

From a `URL`:

{{{
    CalaisResponse response = client.analyze(new URL("http://example.com/sample.html"));
}}}

Or from any `Readable`

{{{
    CalaisResponse response = client.analyze(new FileReader("sample.txt"));
}}}

===Configure options===

You can configure OpenCalais [http://www.opencalais.com/documentation/calais-web-service-api/forming-api-calls/input-parameters input parameters] using `CalaisConfig` class

{{{
    CalaisConfig config = new CalaisConfig();
    config.set(CalaisConfig.UserParam.EXTERNAL_ID, "User generated ID");
    config.set(CalaisConfig.ProcessingParam.CALCULATE_RELEVANCE_SCORE, "true");
}}}

And call any of the `analyze` methods

{{{
    CalaisResponse response = client.analyze("Text to analyze", config);
}}}

===Work with the results===

Display recognized entities:

{{{
    for (CalaisObject entity : response.getEntities()) {
      System.out.println(entity.getField("_type") + ":" 
                         + entity.getField("name"));
    }
}}}


Display topics: 

{{{
    for (CalaisObject topic : response.getTopics()) {
      System.out.println(topic.getField("categoryName"));
    }
}}}

== Running == 

To run j-calais you can add each of the dependencies independently to the CLASSPATH.

  * Run `mvn dependency:copy-dependencies`, to copy all the dependencies to the the `target/dependency/` directory, then add them to the CLASSPATH.

Or you can create a jar that contains all the required dependencies and add only that jar to the CLASSPATH.

  * Run `mvn assembly:assembly`, and add the generated jar j-calais-XXXX-jar-with-dependencies.jar to the CLASSPATH.